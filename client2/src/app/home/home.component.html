<header>
    <app-header (messageEvent)="receiveMessage($event)"></app-header>
</header>
<main>
    <div class="loading-spinner" *ngIf="loading">
        <mat-spinner></mat-spinner>
    </div>
    <mat-card *ngIf="!loading" class="incidents-box">
        <app-incident *ngFor="let incident of incidents" [incidentTitle]="incident.title" [incidentDescription]="incident.description" [incidentStatus]="incident.status" [incidentUserName]="incident.userName" [incidentId]="incident.id" [updated]="incident.updated"></app-incident>
    </mat-card>
    <aside>
        <app-filter (messageEvent)="loadIncidents()"></app-filter>
        <mat-paginator 
            *ngIf="!loading"
            [length]="totalIncidents"
            [pageSize]="8"
            [hidePageSize]="false"
            aria-label="Select page"
            (page)="pageChanged($event)"
        >
        </mat-paginator>

    </aside>
</main>